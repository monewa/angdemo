


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<app-message [hidden]= "!message.show$removeMessage()"></app-message>
<div class= "p-2 w3-indigo">
<h2>Players Table</h2> 
<br> 
<div class= "table w3-pale-blue">
   <table class="w3-responsive w3-table-all">
     <thead class="w3-lime">
        <th></th> <th></th> <th>Id</th> <th>Name</th> <th>Surname</th><th>Birth Date</th>
        <th>Age</th><th>Games Played</th><th>Games Won</th> <th>Tournaments Won</th><th>Awards Won</th> 
        <th>Handicap</th> <th>Player Rating</th>
     </thead> 
     <tr *ngFor= "let p of players; let i = index" class="w3-hover-cyan transition" >
        <td><button (click)= "delete(p.id)" class="btn btn-danger m-1">Delete</button></td>
        <td class="px-90">
           <button [hidden]= "checkForEditMode(i)" (click)= "edit(i)" 
             class="btn btn-primary m-1 ">Edit </button>
           <button [hidden]= "!checkForEditMode(i)" (click)= "openConfirmBox()" 
             class="btn btn-success m-1">Save</button>
        </td>
        <td>{{ p.id }}</td>   
        <td>
           <span [hidden]= "checkForEditMode(i)">{{ p.firstName }}</span>
           <input maxlength="15" [hidden]= "!checkForEditMode(i)" [(ngModel)]= "firstName" 
             pattern="[A-Za-z]" class= "px-120 form-control" type="text"> 
        </td> 
        <td>
           <span [hidden]= "checkForEditMode(i)">{{ p.surname }}</span>
           <input maxlength="15" [hidden]= "!checkForEditMode(i)" [(ngModel)]= "surname" 
              pattern="[A-Za-z]" class= "px-120 form-control" type="text"> 
        </td>       
        <td class= "px-120">
         <span [hidden]= "checkForEditMode(i)">{{ p.birthDate }} </span>
         <input [hidden]= "!checkForEditMode(i)" [(ngModel)]= "birthDate" 
           maxlength="9" pattern="[0-9-]" class= "form-control" type="text">            
        </td>
        <td>{{ p.age }}</td>
        <td>
           <span [hidden]= "checkForEditMode(i)" class="w3-badge w3-green">{{ p.gamesPlayed }} </span>
           <input [hidden]= "!checkForEditMode(i)" [(ngModel)]= "gamesPlayed" 
             maxlength="3" pattern="[0-9]" class= "mx-60 form-control" type="text">
        </td>
        <td>
           <span [hidden]= "checkForEditMode(i)" class="w3-badge w3-green">{{ p.gamesWon }} </span>
           <input [hidden]= "!checkForEditMode(i)" [(ngModel)]= "gamesWon" 
              maxlength="3" pattern="[0-9]" class= "m-auto mx-60 form-control" type="text">
        </td>
        <td>
           <span [hidden]= "checkForEditMode(i)" class="w3-badge w3-yellow">{{ p.tournamentsWon }} </span>
           <input [hidden]= "!checkForEditMode(i)" [(ngModel)]= "tournamentsWon" 
              maxlength="3" pattern="[0-9]" class= "m-auto mx-60 form-control" type="text">           
        </td>
        <td>
           <span [hidden]= "checkForEditMode(i)" class="w3-badge w3-yellow">{{ p.awardsWon }} </span>
           <input [hidden]= "!checkForEditMode(i)" [(ngModel)]= "awardsWon" 
              maxlength="3" pattern="[0-9]" class= "mx-60 form-control" type="text">            
        </td>
        <td>
            <span [hidden]= "checkForEditMode(i)" class="w3-badge w3-red">{{ p.handicap }} </span>
            <input [hidden]= "!checkForEditMode(i)" [(ngModel)]= "handicap" 
            maxlength="3" pattern="[0-9]" class= "mx-60 form-control" type="text"> 
        </td> 
        <td><span class="w3-badge w3-red">{{ p.rating }}</span></td>
     </tr> 
   </table>
</div>
<!-- {{stringify}} -->
</div> 

         <!-- alert  -->
<div [hidden]="!confirmIsopen" class=" w3-modal w3-animate-opacity" style="display:'block'">
  <div   class="p-5 w3-modal-content alert alert-info m-auto">
   <h4>Confirm Update</h4> 
   Are you sure you want save the changes?<br><br>
   <button (click)="update()" type="submit" class="btn btn-primary m-3 col-sm-2 w3-mobile">Ok</button>
   <button (click)="toggleConfirmBox(false)" type="submit" class="btn btn-danger m-3 col-sm-2 w3-mobile">Cancel</button>
  </div>
</div>
</body>
</html>
